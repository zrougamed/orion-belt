"use strict";(globalThis.webpackChunkorion_belt_docs=globalThis.webpackChunkorion_belt_docs||[]).push([[4329],{27573(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"quickstart/server2","title":"Server Setup","description":"The Orion-Belt Gateway Server is the central control plane that manages authentication, authorization, session recording, and connection routing.","source":"@site/docs/quickstart/server2.md","sourceDirName":"quickstart","slug":"/quickstart/server2","permalink":"/docs/quickstart/server2","draft":false,"unlisted":false,"editUrl":"https://github.com/zrougamed/orion-belt/tree/main/docs/docs/quickstart/server2.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Server Setup"},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/docs/quickstart/installation"},"next":{"title":"Server Setup","permalink":"/docs/quickstart/server"}}');var t=s(74848),i=s(28453);const o={sidebar_position:1,title:"Server Setup"},l="Gateway Server Setup",a={},c=[{value:"Architecture",id:"architecture",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation Methods",id:"installation-methods",level:2},{value:"Option 1: Binary Installation (Recommended)",id:"option-1-binary-installation-recommended",level:3},{value:"1. Download Latest Release",id:"1-download-latest-release",level:4},{value:"2. Set Up PostgreSQL",id:"2-set-up-postgresql",level:4},{value:"3. Initialize Database Schema",id:"3-initialize-database-schema",level:4},{value:"4. Create Configuration",id:"4-create-configuration",level:4},{value:"5. Generate SSH Host Key",id:"5-generate-ssh-host-key",level:4},{value:"6. Create Storage Directories",id:"6-create-storage-directories",level:4},{value:"Option 2: Docker Installation",id:"option-2-docker-installation",level:3},{value:"1. Create Docker Compose Configuration",id:"1-create-docker-compose-configuration",level:4},{value:"2. Start Services",id:"2-start-services",level:4},{value:"Option 3: Build from Source",id:"option-3-build-from-source",level:3},{value:"Running the Server",id:"running-the-server",level:2},{value:"Systemd Service (Recommended for Production)",id:"systemd-service-recommended-for-production",level:3},{value:"Direct Execution (Development)",id:"direct-execution-development",level:3},{value:"Initial Configuration",id:"initial-configuration",level:2},{value:"1. Create Admin User",id:"1-create-admin-user",level:3},{value:"2. Verify Installation",id:"2-verify-installation",level:3},{value:"Configuration Reference",id:"configuration-reference",level:2},{value:"Server Section",id:"server-section",level:3},{value:"Database Section",id:"database-section",level:3},{value:"Recording Section",id:"recording-section",level:3},{value:"Auth Section",id:"auth-section",level:3},{value:"Plugins Section",id:"plugins-section",level:3},{value:"Firewall Configuration",id:"firewall-configuration",level:2},{value:"UFW (Ubuntu/Debian)",id:"ufw-ubuntudebian",level:3},{value:"firewalld (RHEL/CentOS)",id:"firewalld-rhelcentos",level:3},{value:"nftables (Alpine Linux)",id:"nftables-alpine-linux",level:3},{value:"Security Hardening",id:"security-hardening",level:2},{value:"1. Use Strong SSH Host Key",id:"1-use-strong-ssh-host-key",level:3},{value:"2. Enable PostgreSQL SSL",id:"2-enable-postgresql-ssl",level:3},{value:"3. Restrict API Access",id:"3-restrict-api-access",level:3},{value:"4. Enable Audit Logging",id:"4-enable-audit-logging",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Server Won&#39;t Start",id:"server-wont-start",level:3},{value:"Cannot Connect via SSH",id:"cannot-connect-via-ssh",level:3},{value:"API Not Responding",id:"api-not-responding",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Production Deployment Checklist",id:"production-deployment-checklist",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"gateway-server-setup",children:"Gateway Server Setup"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Orion-Belt Gateway Server"})," is the central control plane that manages authentication, authorization, session recording, and connection routing."]}),"\n",(0,t.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,t.jsx)(n.mermaid,{value:'flowchart LR\n    Client["Clients<br/>(osh/ocp)"] --\x3e|"SSH<br/>Port 2222"| Server\n    Admin["Admins"] --\x3e|"REST API<br/>Port 8080"| Server\n    Server["Gateway Server"]\n    Agent["Agents"] --\x3e|"Reverse Tunnel<br/>Outbound"| Server\n    Server --\x3e DB[("PostgreSQL")]\n    Server --\x3e Storage[("Recordings")]'}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Linux server (Ubuntu 20.04+, Debian 11+, or Alpine Linux recommended)"}),"\n",(0,t.jsx)(n.li,{children:"PostgreSQL 14+"}),"\n",(0,t.jsx)(n.li,{children:"OpenSSH server (for agent connections)"}),"\n",(0,t.jsx)(n.li,{children:"2GB+ RAM"}),"\n",(0,t.jsx)(n.li,{children:"10GB+ disk space"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"installation-methods",children:"Installation Methods"}),"\n",(0,t.jsx)(n.h3,{id:"option-1-binary-installation-recommended",children:"Option 1: Binary Installation (Recommended)"}),"\n",(0,t.jsx)(n.h4,{id:"1-download-latest-release",children:"1. Download Latest Release"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Set version\nVERSION="v0.1.0"  # Replace with latest version\n\n# Download for Linux x86_64\ncurl -LO https://github.com/zrougamed/orion-belt/releases/download/${VERSION}/orion-belt-server-linux-amd64\n\n# Make executable\nchmod +x orion-belt-server-linux-amd64\nsudo mv orion-belt-server-linux-amd64 /usr/local/bin/orion-belt-server\n'})}),"\n",(0,t.jsx)(n.h4,{id:"2-set-up-postgresql",children:"2. Set Up PostgreSQL"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Install PostgreSQL\nsudo apt update\nsudo apt install -y postgresql postgresql-contrib\n\n# Start PostgreSQL\nsudo systemctl enable postgresql\nsudo systemctl start postgresql\n\n# Create database and user\nsudo -u postgres psql << EOF\nCREATE DATABASE orionbelt;\nCREATE USER orionbelt WITH ENCRYPTED PASSWORD 'your-secure-password';\nGRANT ALL PRIVILEGES ON DATABASE orionbelt TO orionbelt;\n\\c orionbelt\nGRANT ALL ON SCHEMA public TO orionbelt;\nEOF\n"})}),"\n",(0,t.jsx)(n.h4,{id:"3-initialize-database-schema",children:"3. Initialize Database Schema"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Download schema\ncurl -LO https://raw.githubusercontent.com/zrougamed/orion-belt/main/scripts/db/schema.sql\n\n# Apply schema\nPGPASSWORD='your-secure-password' psql -h localhost -U orionbelt -d orionbelt -f schema.sql\n"})}),"\n",(0,t.jsx)(n.h4,{id:"4-create-configuration",children:"4. Create Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'sudo mkdir -p /etc/orion-belt\nsudo tee /etc/orion-belt/server.yaml > /dev/null << \'EOF\'\nserver:\n  host: "0.0.0.0"\n  port: 2222\n  api_port: 8080\n  ssh_host_key: "/etc/orion-belt/ssh_host_key"\n  api_endpoint: "http://localhost:8080/api"\n  plugin_dir: "/etc/orion-belt/plugins"\n\ndatabase:\n  driver: "postgres"\n  connection_string: "postgres://orionbelt:your-secure-password@localhost:5432/orionbelt?sslmode=disable"\n\nrecording:\n  enabled: true\n  storage_path: "/var/lib/orion-belt/recordings"\n  retention_days: 90\n\nauth:\n  rebac_enabled: true\n  allow_temp_access: true\n\nplugins: {}\nEOF\n'})}),"\n",(0,t.jsx)(n.h4,{id:"5-generate-ssh-host-key",children:"5. Generate SSH Host Key"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'sudo ssh-keygen -t ed25519 -f /etc/orion-belt/ssh_host_key -N ""\n'})}),"\n",(0,t.jsx)(n.h4,{id:"6-create-storage-directories",children:"6. Create Storage Directories"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo mkdir -p /var/lib/orion-belt/recordings\nsudo mkdir -p /var/log/orion-belt\nsudo mkdir -p /etc/orion-belt/plugins\n\nsudo chmod 700 /var/lib/orion-belt/recordings\nsudo chmod 755 /var/log/orion-belt\nsudo chmod 755 /etc/orion-belt/plugins\n"})}),"\n",(0,t.jsx)(n.h3,{id:"option-2-docker-installation",children:"Option 2: Docker Installation"}),"\n",(0,t.jsx)(n.h4,{id:"1-create-docker-compose-configuration",children:"1. Create Docker Compose Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="docker-compose.yml"',children:'version: \'3.8\'\n\nservices:\n  postgres:\n    image: postgres:16-alpine\n    environment:\n      POSTGRES_DB: orionbelt\n      POSTGRES_USER: orionbelt\n      POSTGRES_PASSWORD: your-secure-password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n      - ./scripts/db/schema.sql:/docker-entrypoint-initdb.d/schema.sql\n    networks:\n      - orionbelt\n    restart: unless-stopped\n\n  orionbelt-server:\n    image: ghcr.io/zrougamed/orion-belt-server:v0.1.0\n    ports:\n      - "2222:2222"  # SSH Proxy\n      - "8080:8080"  # REST API\n    volumes:\n      - ./config/server.yaml:/etc/orion-belt/server.yaml:ro\n      - ./recordings:/var/lib/orion-belt/recordings\n      - ./ssh_host_key:/etc/orion-belt/ssh_host_key:ro\n      - ./plugins:/etc/orion-belt/plugins:ro\n    depends_on:\n      - postgres\n    networks:\n      - orionbelt\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n\nnetworks:\n  orionbelt:\n    driver: bridge\n'})}),"\n",(0,t.jsx)(n.h4,{id:"2-start-services",children:"2. Start Services"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Generate SSH host key\nssh-keygen -t ed25519 -f ssh_host_key -N ""\n\n# Create config directory\nmkdir -p config recordings plugins\n\n# Copy configuration (create server.yaml as shown above)\ncp server.yaml config/\n\n# Start services\ndocker-compose up -d\n\n# View logs\ndocker-compose logs -f orionbelt-server\n'})}),"\n",(0,t.jsx)(n.h3,{id:"option-3-build-from-source",children:"Option 3: Build from Source"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Clone repository\ngit clone https://github.com/zrougamed/orion-belt.git\ncd orion-belt\n\n# Build server\nmake build-server\n\n# Copy binary\nsudo cp bin/orion-belt-server /usr/local/bin/\n\n# Follow binary installation steps 2-6 above\n"})}),"\n",(0,t.jsx)(n.h2,{id:"running-the-server",children:"Running the Server"}),"\n",(0,t.jsx)(n.h3,{id:"systemd-service-recommended-for-production",children:"Systemd Service (Recommended for Production)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Create systemd service\nsudo tee /etc/systemd/system/orion-belt-server.service > /dev/null << 'EOF'\n[Unit]\nDescription=Orion-Belt Gateway Server\nAfter=network.target postgresql.service\nWants=postgresql.service\n\n[Service]\nType=simple\nUser=root\nExecStart=/usr/local/bin/orion-belt-server --config /etc/orion-belt/server.yaml\nRestart=on-failure\nRestartSec=5s\n\n# Security hardening\nNoNewPrivileges=true\nPrivateTmp=true\nProtectSystem=strict\nProtectHome=true\nReadWritePaths=/var/lib/orion-belt /var/log/orion-belt\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Reload systemd\nsudo systemctl daemon-reload\n\n# Enable and start service\nsudo systemctl enable orion-belt-server\nsudo systemctl start orion-belt-server\n\n# Check status\nsudo systemctl status orion-belt-server\n\n# View logs\nsudo journalctl -u orion-belt-server -f\n"})}),"\n",(0,t.jsx)(n.h3,{id:"direct-execution-development",children:"Direct Execution (Development)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"orion-belt-server --config /etc/orion-belt/server.yaml\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Command-line Options:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--config <file>"})," - Path to configuration file"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--log-level <level>"})," - Log level (debug, info, warn, error)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--help"})," - Show help message"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"initial-configuration",children:"Initial Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"1-create-admin-user",children:"1. Create Admin User"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Generate SSH key for admin\nssh-keygen -t ed25519 -f ~/.ssh/orion-belt-admin -N ""\n\n# Register admin user via API\ncurl -X POST http://localhost:8080/api/users \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "username": "admin",\n    "email": "admin@example.com",\n    "public_key": "\'"ssh-ed25519 AAAAB3NzaC1FAKEKEYONLYFORdocs admin@placeholder.ensure"\'",\n    "is_admin": true\n  }\'\n'})}),"\n",(0,t.jsx)(n.h3,{id:"2-verify-installation",children:"2. Verify Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Check SSH proxy is listening\nss -tulnp | grep 2222\n\n# Check API is listening\nss -tulnp | grep 8080\n\n# Test API health\ncurl http://localhost:8080/api/health\n\n# Test SSH proxy\nssh -p 2222 -i ~/.ssh/orion-belt-admin admin@localhost\n# Should get "Orion-Belt Gateway" message\n'})}),"\n",(0,t.jsx)(n.h2,{id:"configuration-reference",children:"Configuration Reference"}),"\n",(0,t.jsx)(n.h3,{id:"server-section",children:"Server Section"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'server:\n  host: "0.0.0.0"              # Listen address (0.0.0.0 for all interfaces)\n  port: 2222                   # SSH proxy port\n  api_port: 8080               # REST API port\n  ssh_host_key: "/etc/orion-belt/ssh_host_key"  # SSH host key path\n  api_endpoint: "http://localhost:8080/api"     # API endpoint URL\n  plugin_dir: "/etc/orion-belt/plugins"         # Plugin directory\n'})}),"\n",(0,t.jsx)(n.h3,{id:"database-section",children:"Database Section"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'database:\n  driver: "postgres"\n  connection_string: "postgres://user:pass@host:port/dbname?sslmode=disable"\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Connection String Format:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"postgres://[user]:[password]@[host]:[port]/[database]?[options]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Common Options:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sslmode=disable"})," - No SSL (development)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sslmode=require"})," - Require SSL (production)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"connect_timeout=10"})," - Connection timeout"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool_max_conns=25"})," - Max connections in pool"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"recording-section",children:"Recording Section"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'recording:\n  enabled: true                                  # Enable session recording\n  storage_path: "/var/lib/orion-belt/recordings" # Recording storage path\n  retention_days: 90                             # Days to keep recordings (0 = forever)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"auth-section",children:"Auth Section"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"auth:\n  rebac_enabled: true        # Enable relationship-based access control\n  allow_temp_access: true    # Enable temporary access requests\n"})}),"\n",(0,t.jsx)(n.h3,{id:"plugins-section",children:"Plugins Section"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'plugins:\n  notification:                                   # Notification plugin\n    enabled: true\n    email_smtp: "smtp.example.com:587"\n    email_from: "orion-belt@example.com"\n    email_username: "notifications"\n    email_password: "password"\n    slack_webhook: "https://hooks.slack.com/..."\n'})}),"\n",(0,t.jsx)(n.h2,{id:"firewall-configuration",children:"Firewall Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"ufw-ubuntudebian",children:"UFW (Ubuntu/Debian)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Allow SSH proxy\nsudo ufw allow 2222/tcp comment 'Orion-Belt SSH Proxy'\n\n# Allow API (if accessing from external network)\nsudo ufw allow 8080/tcp comment 'Orion-Belt API'\n\n# Enable firewall\nsudo ufw enable\n"})}),"\n",(0,t.jsx)(n.h3,{id:"firewalld-rhelcentos",children:"firewalld (RHEL/CentOS)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Add ports\nsudo firewall-cmd --permanent --add-port=2222/tcp\nsudo firewall-cmd --permanent --add-port=8080/tcp\n\n# Reload\nsudo firewall-cmd --reload\n"})}),"\n",(0,t.jsx)(n.h3,{id:"nftables-alpine-linux",children:"nftables (Alpine Linux)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Edit /etc/nftables.nft\n# Add rules:\ntable inet filter {\n    chain input {\n        tcp dport 2222 accept comment "Orion-Belt SSH"\n        tcp dport 8080 accept comment "Orion-Belt API"\n    }\n}\n\n# Reload\nsudo nft -f /etc/nftables.nft\n'})}),"\n",(0,t.jsx)(n.h2,{id:"security-hardening",children:"Security Hardening"}),"\n",(0,t.jsx)(n.h3,{id:"1-use-strong-ssh-host-key",children:"1. Use Strong SSH Host Key"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Generate strong ED25519 key\nssh-keygen -t ed25519 -f /etc/orion-belt/ssh_host_key -N ""\n\n# Or use RSA 4096\nssh-keygen -t rsa -b 4096 -f /etc/orion-belt/ssh_host_key -N ""\n'})}),"\n",(0,t.jsx)(n.h3,{id:"2-enable-postgresql-ssl",children:"2. Enable PostgreSQL SSL"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Generate SSL certificates\nsudo su - postgres\ncd /var/lib/postgresql/data\nopenssl req -new -x509 -days 365 -nodes -text \\\n  -out server.crt -keyout server.key\nchmod 600 server.key\n\n# Edit postgresql.conf\nssl = on\nssl_cert_file = 'server.crt'\nssl_key_file = 'server.key'\n\n# Update connection string\nconnection_string: \"postgres://...?sslmode=require\"\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-restrict-api-access",children:"3. Restrict API Access"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Use firewall to limit API access to specific IPs\nsudo ufw allow from 10.0.0.0/8 to any port 8080\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-enable-audit-logging",children:"4. Enable Audit Logging"}),"\n",(0,t.jsx)(n.p,{children:"All actions are automatically logged to the database. Export logs to SIEM:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Example: Export to syslog\ntail -f /var/log/orion-belt/audit.log | logger -t orion-belt\n"})}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"server-wont-start",children:"Server Won't Start"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Check logs\nsudo journalctl -u orion-belt-server -n 50\n\n# Common issues:\n# 1. Port already in use\nsudo ss -tulnp | grep -E '2222|8080'\n\n# 2. Database connection failed\nPGPASSWORD='password' psql -h localhost -U orionbelt -d orionbelt -c \"\\dt\"\n\n# 3. SSH host key missing\nls -la /etc/orion-belt/ssh_host_key\n"})}),"\n",(0,t.jsx)(n.h3,{id:"cannot-connect-via-ssh",children:"Cannot Connect via SSH"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Test with verbose output\nssh -vvv -p 2222 -i ~/.ssh/key admin@gateway-server\n\n# Check if port is open\ntelnet gateway-server 2222\n\n# Verify SSH host key\nssh-keyscan -p 2222 gateway-server\n"})}),"\n",(0,t.jsx)(n.h3,{id:"api-not-responding",children:"API Not Responding"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Test API directly\ncurl -v http://localhost:8080/api/health\n\n# Check if process is running\nps aux | grep orion-belt-server\n\n# Check system resources\nfree -h\ndf -h\n"})}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/quickstart/agent",children:"Agent Setup"})})," - Deploy agents on target machines"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/quickstart/client",children:"Client Setup"})})," - Install client tools for users"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/guides/user-management",children:"User Management"})})," - Create and manage users"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/guides/permissions",children:"Permissions"})})," - Configure access control"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"production-deployment-checklist",children:"Production Deployment Checklist"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Use strong SSH host key (ED25519 or RSA 4096)"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Enable PostgreSQL SSL"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure firewall rules"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Set up backup strategy for database and recordings"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure log rotation for audit logs"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Enable monitoring (Prometheus metrics - planned)"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Set up alerting for failed authentication attempts"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Document disaster recovery procedures"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure plugins for notifications"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Review and harden systemd service configuration"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453(e,n,s){s.d(n,{R:()=>o,x:()=>l});var r=s(96540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);